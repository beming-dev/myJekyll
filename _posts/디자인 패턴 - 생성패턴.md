---
layout: post
category: 디자인 패턴
thumbnail: design.png
tags: [desing pattern]


---

# 디자인 패턴 - 생성패턴

## 프로토타입 패턴(Prototype Pattern)

<br/>

<br/>

### 사용이유

프로토타입 패턴은 생성할 객체들의 타입을 프로토타입인 인스턴스로부터 결정되게 한다.

만약 우리가 object를 하나 가지고 있고 이의 복사본을 하나 만들고 싶다고 가정하자, 먼저 우리는 같은 class의 object를 하나 생성하고 원래 객체의 모든 field값을 복사해서 새 object에 붙여 넣을것이다.

그러나 여기에는 두가지 문제가 있다.

1. 몇가지 object의 field들은 private으로 선언되어 있어서 바깥에서 그 값을 볼 수 없다.
2. 복사본을 생성하려면, object의 class를 알아야 하기 때문에 의존성이 생긴다.





### 예제(Wikipedia의 예제 사용)

```java
public class Cookie implements Cloneable {
	public Object clone(){
        try{
            Cookie copy = (Cookie)super.clone();
            return copy;
        }
        catch(CloneNotSupportedException e){
            e.printStackTrace();
            return null;
        }
    }
}

public class CoconutCookie extends Cookie {}

public class CookieMachine {
    private Cookie cookie;
    
    public CookieMachine(Cookie cookie){
        this.cookie = cookie;
    }
    public Cookie makeCookie(){
        return (Cookie)cookie.clone();
    }
    public Object clone(){}
}

public class CookieShop {
    public static void main(String args[]){
        Cookie tempCookie = null;
        Cookie prot = new CoconutCookie();
        CookieMachine cm - new CookieMachine(prot);
        for(int i=0; i<100; i++){
            tempCookie = cm.makeCookie();
        }
    }
}
```

