---
layout: post
category: 디자인 패턴
thumbnail: design.png
tags: [desing pattern]



---

# 디자인 패턴 - 구조패턴

## 어댑터 패턴(Adapter Pattern)

<br/>

<br/>

### 사용이유

만약 우리가 주식 시장을 모니터링하는 프로그램을 만들었다고 생각해보자. 우리 프로그램은 주식 데이터를 XML형식으로 받아와서 차트를 그리도록 만들었다. 

서비스를 운영하던 중, 우리는 서드파티 라이브러리를 사용해서 프로그램을 확장시키려고 한다. 그런데 우리가 사용하려는 이 라이브러리는 JSON형식의 데이터에서만 작동한다.

이 때, 이 라이브러리를 XML에도 동작하도록 확장 시키는 것은 각종 오류를 낼 수 있어서 거의 불가능 할 것이다.

그럼 남은 방법은 JSON데이터를 XML형식으로 변경하는 것이다. 이 과정을 어댑터 패턴을 사용해 구현할 수 있다.



### 예제

1. XML파일을 읽을 수 있는 인터페이스와 XML클래스를 구현한다.

``` java
public interface DataReader{
    void read(String data);
}
public class XML implements DataReader{
    @Override
    public void read(String data){
        System.out.println(data);
    }
}
```

2. JSON형식의 파일을 읽을 수 있는 인터페이스와 JSON클래스를 구현한다.

``` java
public interface DataPackage{
    void readData(String data);
}

public class JSON implements DataPackage{
    @Override
    public void readData(String data){
        System.out.println(data);
    }
}
```

3. JSON데이터를 XML로 형식으로 사용할 수 있도록 하는 어뎁터 클래스를 만든다.이를 활용하면 JSON클래스에서도 XML클래스의 read 메소드를 사용할 수 있다.

```java
public class FormatAdapter implements DataReader{
    private DataPackage data;
    
    public FormatAdapter(DataPackage d){
        data = d;
    }
    
    @Override
    public void read(String d){
        System.out.println("Using Adapter => ");
        data.readData(d);
    }
}
```

4. FormatAdapter를 통해 JSON클래스를 만들어 XML형식으로 사용한다.

```java
public class Main{
    public static void main(String[] args){
        DataReader reader = new XML();
        reader.read("a.xml");
        
        reader = new FormatAdapter(new JSON());
        reader.read("b.json");
    }
}
```



# 끝

예제를 너무 간략화하다 보니 조금 어색한 감이 있었지만 그래도 어탭터 패턴을 왜, 어떻게 쓰는지 정도는 이해가 됐다.

